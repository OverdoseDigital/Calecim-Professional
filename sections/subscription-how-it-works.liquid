{% comment %} Love&Co Theme {% endcomment %}
{% assign el_id = "shopify-section-" | append: section.id%}

<style>
  #shopify-section-{{ section.id }} {
    {% if section.settings.bg_color != blank %}
    background-color: {{ section.settings.bg_color }};
    {% endif %}
  }
  
  #shopify-section-{{ section.id }} .shw-container {
    display: flex;
    flex-direction: column;
  }
  #shopify-section-{{ section.id }} .shw-container .shw-left {
    width: 100%;
  }
  #shopify-section-{{ section.id }} .image-caption {
    background-color: #fff;
    border-radius: 50px;
    display: flex;
    flex-direction: row;
    align-items: center;
    position: absolute;
    top: 0;
    right: 0;
    width: 100px;
    height: 100px;
}
  #shopify-section-{{ section.id }} .shw-container .shw-right {
    width: 100%;
  }
  #shopify-section-{{ section.id }} .shw-container .shw-right .shwr-top {
    max-width: 100%;
    display: flex;
    flex-direction: column;
    justify-content: center;
    height: 100%;
    margin: 0 auto;
  }
  #shopify-section-{{ section.id }} .shw-container .shw-right .shwr-top > .shwr-title,
  #shopify-section-{{ section.id }} .shw-container .shw-right .shwr-top > .shwr-text,
  #shopify-section-{{ section.id }} .shw-container .shw-right .shwr-top > ul
   {
    text-align: center;
    {% if section.settings.text_align != blank %}
    text-align: {{ section.settings.text_align }};
    {% endif %}
    width: 100%;
    max-width: 400px;
    {% if section.settings.c_max_width != blank %}
    max-width: {{ section.settings.c_max_width }}px;
    {% endif %}
    display: flex;
    flex-direction: column;
    justify-content: center;
    margin-left: auto;
    margin-right: auto;
  }
  #shopify-section-{{ section.id }} .shw-container .shw-right .shwr-top .p4 {
    opacity: 0.5;
  }

  #shopify-section-{{ section.id }} .shw-container .shw-right .shw-content-con {
    width: 100%;
    height: 100%;
    display: flex;
    flex-direction: row;
    align-items: center;
  }
  #shopify-section-{{ section.id }} .shw-container .shw-right .swiper {
    position: unset;
  }
  #shopify-section-{{ section.id }} .shw-container .shw-right .shwr-bot {
    border-top: 1px solid rgba(35, 29, 29,.1);
    text-align: center;
  }
  #shopify-section-{{ section.id }} .shw-container .shw-right .shwr-bot > div {
    width: 100%;
    display: block;
  }
  #shopify-section-{{ section.id }} .shw-container .shw-right ul {
    list-style: none; 
    counter-reset: my-counter; 
    padding-left: 0;
  }
  #shopify-section-{{ section.id }} .shw-container .shw-right ul li {
    display: flex;
  }
  #shopify-section-{{ section.id }} .shw-container .shw-right ul li span {
    padding-top: 5px;
  }
  #shopify-section-{{ section.id }} .shw-container .shw-right li::before {
    content: counter(my-counter) "";
    counter-increment: my-counter;
    min-width: 30px;
    height: 30px;
    text-align: center;
    margin-right: 15px;
    border: 1px solid #231d1d;
    border-radius: 30px;
    display: block;
    padding: 5px;
    font-size: 14px;
  }

  @media(min-width: 1024px) {
    #shopify-section-{{ section.id }} .shw-container {
      width: 100%;
      {% if section.settings.section_width == 'container' %}
      margin: 0 auto;
      {% endif %}
      display: flex;
      flex-direction: row;
      {% if section.settings.image_position == 'right' %}
      flex-direction: row-reverse;
      {% endif %}
      justify-content: space-between;
    }
    #shopify-section-{{ section.id }} .shw-container .shw-left {
      width: 50%;
    }
    #shopify-section-{{ section.id }} .shw-container .shw-right {
      width: 50%;
      display: flex;
      flex-direction: column;
      justify-content: space-between;
    }
    #shopify-section-{{ section.id }} .shw-container .shw-right .shwr-top {
      max-width: 400px;
      {% if section.settings.c_max_width != blank %}
      max-width: {{ section.settings.c_max_width }}px;
      {% endif %}
      display: flex;
      flex-direction: column;
      justify-content: center;
      height: 100%;
      margin: 0 auto;
    }
    #shopify-section-{{ section.id }} .shw-container .shw-right .shwr-bot {
      border-top: 1px solid rgba(35, 29, 29,.1);
      text-align: center;
    }
    #shopify-section-{{ section.id }} .shw-container .shw-right .shwr-bot > div {
      width: 100%;
      display: block;
    }
  }
</style>
<section id="{{ section.id }}" class="subscription-how-it-works">

  <div class="shw-container {{ section.settings.section_width }}">
    <div class="shw-left relative">
      {%- assign image_id = "shwl-image-" | append: section.id -%}
      {%- render 'global-image-wrapper-responsive',
          image_id: image_id,
          desktop_image: section.settings.desktop_image,
          mobile_image: section.settings.mobile_image
      %}
      {%- if section.settings.image_caption != blank -%}
        <p class="p3 mb-15 d-mb-10 image-caption pt-5 pb-5 pr-15 pl-15 mt-20 mr-20 d-mt-30 d-mr-25 bold-500 tc">{{ section.settings.image_caption }}</p>
    {%- endif -%} 
    </div>
    <div class="shw-right">
      <div class="relative shw-content-con mb-0 d-mb-0 {% unless section.settings.section_width == 'container' %} pl-20 pr-20 t-pl-30 t-pr-30 {% endunless %}">
          <div class="shwr-top d-pt-0 d-pb-0 d-pl-0 d-pr-0 pt-40 pb-40 ">
          <h3 class="h3 c-black shwr-title">{{ section.settings.title }}</h3>
          {% if section.settings.text != blank %}
            <p class="mt-20 mb-15 p2 c-black shwr-text bold-500">{{ section.settings.text }}</p>
          {% endif %}
          <ul>
            {% for block in section.blocks %}
              <li class="p2 c-black pt-15 d-pt-20"><span>{{ block.settings.title | newline_to_br }}</span></li>
            {% endfor %}
          </ul>
        </div>
      </div>
      <div class="shwr-bot">
        <div class="link3">
          {%- assign link_id = "shwrb-link-" | append: section.id -%}
          {%- render 'link-icon',
              id: link_id,
              label: section.settings.link_label,
              url: section.settings.link_url,
              text_class: 'p3 mr-10 pt-20 pb-20',
              icon_color: '#231D1D',
              icon_svg: settings.icon_arrow_diagonal_up,
              load_inside_vue: false
          -%}
      </div>
      </div>
    </div>
  </div>
</section>

{% schema %}
  {
    "name": "Subscription-How it works",
    "settings": [
      {
        "type": "select",
        "id": "section_width",
        "label": "Section Width",
        "options": [
            {"value":"","label":"Full Width"},
            {"value":"container","label":"Contained"}
        ]
      },
      {
        "type": "color",
        "id": "bg_color",
        "label": "Background Color"
      },
      {
        "type": "number",
        "id": "c_max_width",
        "label": "Content Max Width"
      },
      {
        "type": "textarea",
        "id": "title",
        "label": "Title"
      },
      {
        "type": "textarea",
        "id": "text",
        "label": "Text"
      },
      {
        "type": "select",
        "id": "text_align",
        "label": "Text Align",
        "options": [
            {"value":"left","label":"Left"},
            {"value":"center","label":"Center"},
            {"value":"right","label":"Right"}
        ]
      },
      {
        "type": "text",
        "id": "link_label",
        "label": "Link Label"
      },
      {
        "type": "url",
        "id": "link_url",
        "label": "Link URL"
      },
      {
        "type": "image_picker",
        "id": "desktop_image",
        "label": "Desktop Image"
      },
      {
        "type": "image_picker",
        "id": "mobile_image",
        "label": "Mobile Image"
      },
      {
        "type": "select",
        "id": "image_position",
        "label": "Image Position",
        "options": [
            {"value":"left","label":"Left"},
            {"value":"right","label":"Right"}
        ]
      },
      {
        "type": "text",
        "id": "image_caption",
        "label": "Image caption"
      }
    ],
    "blocks": [
      {
        "type": "entry",
        "name": "Entry",
        "settings": [
          {
              "type": "textarea",
              "id": "title",
              "label": "Title"
          }
        ]
      }
    ],
    "presets": [
      {
        "name": "Subscription - How it works",
        "blocks": []
      }
    ]
  }
{% endschema %}